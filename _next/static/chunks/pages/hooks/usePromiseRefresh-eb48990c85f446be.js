(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4951],{95101:function(a,b,c){(window.__NEXT_P=window.__NEXT_P||[]).push(["/hooks/usePromiseRefresh",function(){return c(19897)}])},46178:function(d,c,b){"use strict";Object.defineProperty(c,"Z",{get:function(){return k},enumerable:!0});var a,e=function(a){if(a&&a.__esModule)return a;if(null===a||"object"!=typeof a&&"function"!=typeof a)return{default:a};var b=h();if(b&&b.has(a))return b.get(a);var c={},f=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var d in a)if(Object.prototype.hasOwnProperty.call(a,d)){var e=f?Object.getOwnPropertyDescriptor(a,d):null;e&&(e.get||e.set)?Object.defineProperty(c,d,e):c[d]=a[d]}return c.default=a,b&&b.set(a,c),c}(b(27378)),f=(a=b(50146),a&&a.__esModule?a:{default:a});function g(c,a){(null==a||a>c.length)&&(a=c.length);for(var b=0,d=Array(a);b<a;b++)d[b]=c[b];return d}function h(){if("function"!=typeof WeakMap)return null;var a=new WeakMap;return h=function(){return a},a}function i(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(b,e){var f,g,a=null==b?null:"undefined"!=typeof Symbol&&b[Symbol.iterator]||b["@@iterator"];if(null!=a){var c=[],d=!0,h=!1;try{for(a=a.call(b);!(d=(f=a.next()).done)&&(c.push(f.value),!e||c.length!==e);d=!0);}catch(i){h=!0,g=i}finally{try{d||null==a.return||a.return()}finally{if(h)throw g}}return c}}(a,b)||j(a,b)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function j(a,c){if(a){if("string"==typeof a)return g(a,c);var b=Object.prototype.toString.call(a).slice(8,-1);if("Object"===b&&a.constructor&&(b=a.constructor.name),"Map"===b||"Set"===b)return Array.from(b);if("Arguments"===b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b))return g(a,c)}}function k(d,h){var a,c=i(e.useState(),2),k=c[0],p=c[1],b=i((0,f.default)(d,[k].concat(function(a){if(Array.isArray(a))return g(a)}(a=h)||function(a){if("undefined"!=typeof Symbol&&null!=a[Symbol.iterator]||null!=a["@@iterator"])return Array.from(a)}(a)||j(a)||function(){throw TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}())),3),l=b[0],m=b[1],n=b[2],o=(0,e.useCallback)(function(){return p(Date.now())},[]);return[l,m,n,o]}},19897:function(g,b,a){"use strict";a.r(b),a.d(b,{default:function(){return f},meta:function(){return e}});var h=a(31373),i=a(52050);a(27378);var j=a(35318),k=a(56100),l=a(30222),m=a(38861),n=a(46178),e={name:"usePromiseRefresh",tableOfContents:{depth:0,children:[{depth:1,slug:"#usepromiserefresh",title:"usePromiseRefresh",children:[{depth:2,slug:"#como-usar",title:"Como usar"},{depth:2,slug:"#cuidados",title:"Cuidados"},{depth:2,slug:"#par\xe2metros-e-retorno",title:"Par\xe2metros e Retorno"}]}]}},o={meta:e};function f(a){var c=a.components,b=(0,h.Z)(a,["components"]);return(0,j.kt)("wrapper",Object.assign({},o,b,{components:c,mdxType:"MDXLayout"}),(0,j.kt)("h1",Object.assign({},{id:"usepromiserefresh"}),"usePromiseRefresh"),(0,j.kt)("p",null,"Um ",(0,j.kt)("strong",{parentName:"p"},"usePromise")," que retorna uma fun\xe7\xe3o de refresh para recarregar a promisse, \xfatil na trativa de erros ou refresh."),(0,j.kt)("h2",Object.assign({},{id:"como-usar"}),"Como usar"),(0,j.kt)("pre",null,(0,j.kt)("code",Object.assign({parentName:"pre"},{className:"language-tsx"}),"const [value, error, loading, refresh] = usePromiseRefresh(() => userService.get(), []);\n\nreturn (\n  <div>\n    {loading ? 'Carregando' : ''}\n    {value}\n    <Button onClick={refresh} variant='text'>\n      Reset\n    </Button>\n  </div>\n);\n")),(0,j.kt)(k.X,{__position:0,code:"() => {\n  const [value, error, loading, refresh] = usePromiseRefresh(\n    () => new Promise((resolve) => setTimeout(() => resolve('ol\xe1'), 2000)),\n    [],\n  )\n  return (\n    <div>\n      <Typography>Value: {value}</Typography>\n      <Typography>Loading: {loading.toString()}</Typography>\n      <Button onClick={refresh} variant=\"text\">\n        Reset\n      </Button>\n    </div>\n  )\n}",scope:{props:b,Playground:k.X,Button:l.default,Typography:m.default,usePromiseRefresh:n.Z,meta:e},mdxType:"Playground"},function(){var a=(0,i.Z)((0,n.Z)(function(){return new Promise(function(a){return setTimeout(function(){return a("ol\xe1")},2e3)})},[]),4),b=a[0],c=(a[1],a[2]),d=a[3];return(0,j.kt)("div",null,(0,j.kt)(m.default,{mdxType:"Typography"},"Value: ",b),(0,j.kt)(m.default,{mdxType:"Typography"},"Loading: ",c.toString()),(0,j.kt)(l.default,{onClick:d,variant:"text",mdxType:"Button"},"Reset"))}),(0,j.kt)("h2",Object.assign({},{id:"cuidados"}),"Cuidados"),(0,j.kt)("ul",null,(0,j.kt)("li",{parentName:"ul"},(0,j.kt)("strong",{parentName:"li"},"Erros")," ocorridos ser\xe3o automaticamentes logados e as o ",(0,j.kt)("strong",{parentName:"li"},"onUnhandledError")," no ",(0,j.kt)("strong",{parentName:"li"},"setHoustonHooksConfig"),"\nfor setado."),(0,j.kt)("li",{parentName:"ul"},"O valor inicial ser\xe1 ",(0,j.kt)("strong",{parentName:"li"},"undefined"),", lembre-se de tratar isso quando estiver usando.")),(0,j.kt)("h2",Object.assign({},{id:"par\xe2metros-e-retorno"}),"Par\xe2metros e Retorno"),(0,j.kt)("pre",null,(0,j.kt)("code",Object.assign({parentName:"pre"},{className:"language-ts"}),"/**\n * @param promiseGenerator Fun\xe7\xe3o que retorna uma Promise\n * @param deps Lista de depend\xeancias\n * @returns [\n *    value: valor de retorno do Promise,\n *    error: se ocorrer um erro, ele ser\xe1 passado aqui,\n *    loading: boolean se esta carregando ou n\xe3o,\n *    refresh: function to refresh the data\n * ]\n */\nexport default usePromiseRefresh<T>(promiseGenerator: () => Promise<any>, deps: React.DependencyList): [T, any, boolean];\n")))}f.isMDXComponent=!0;var c={editThisPagePath:"src/pages/hooks/usePromiseRefresh/index.mdx"};for(var d in c)window[d]=c[d]}},function(a){a.O(0,[4526,430,8194,4109,8861,961,9774,2888,179],function(){var b;return a(a.s=95101)}),_N_E=a.O()}])